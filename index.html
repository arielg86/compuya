 <!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Compuya - Cat치logo Din치mico de Combos</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carga de la fuente Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <style>
        /* Estilos personalizados para el tema oscuro y efectos */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Fondo oscuro principal */
            padding: 0.75rem 0;
            margin: 0;
        }
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        .sr-only.focus:not(.sr-only) {
            position: static;
            width: auto;
            height: auto;
            padding: inherit;
            margin: inherit;
            overflow: visible;
            clip: auto;
            white-space: normal;
        }
        .container-center {
            /* Mantiene la adaptabilidad m칩vil y centra el contenido */
            max-width: 1280px;
            margin: 0 auto;
            padding: 0;
        }
        .product-card {
            /* Efecto de levitaci칩n y sombra al pasar el rat칩n */
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        .product-card:hover, .product-card:focus {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 200, 255, 0.2);
            border-color: #06b6d4; /* Color cian de Tailwind para el borde en hover */
            outline: 2px solid #06b6d4;
        }
        /* Estilos para el Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 50;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.85);
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        .modal.show {
            display: flex;
            opacity: 1;
        }
        .modal-content {
            background-color: #ffffff;
            margin: auto;
            padding: 2rem;
            border-radius: 1rem;
            width: 95%;
            max-width: 600px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
            transform: translateY(-20px);
            transition: transform 0.3s ease-out;
        }
        .modal.show .modal-content {
            transform: translateY(0);
        }
        .close-button {
            font-size: 2.5rem;
            line-height: 1;
            cursor: pointer;
            color: #4b5563;
        }
        .promo-tag {
            position: absolute;
            top: 0;
            right: 0;
            background-color: #f87171; /* Rojo Tailwind 500 */
            color: white;
            font-weight: bold;
            padding: 0.5rem 1rem;
            border-radius: 0 0.75rem 0 0.75rem;
            z-index: 10;
        }
        .benefit-card {
            background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
            border-radius: 0.75rem;
            padding: 1rem;
            margin: 0.5rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }
        .benefit-card:hover {
            transform: translateY(-2px);
        }
        @media (max-width: 640px) {
            .benefit-card {
                padding: 0.75rem;
                margin: 0.25rem 0;
            }
        }
        /* Mejoras para m칩vil */
        @media (max-width: 768px) {
            .product-card {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            .product-card img {
                height: 120px;
            }
            .product-card h3 {
                font-size: 1rem;
            }
            .product-card button {
                padding: 0.75rem;
                font-size: 0.875rem;
            }
            .detail-view-mobile {
                padding: 1rem;
            }
            .customization-section {
                padding: 1rem;
            }
            .customization-section h4 {
                font-size: 1.25rem;
            }
            .price-display {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 bg-blue-600 text-white p-2 z-50">Saltar al contenido principal</a>
    <div class="container-center">
        <!-- HERO SECTION -->
        <header id="main-header" class="bg-gradient-to-br from-blue-700 to-teal-500 text-white p-4 md:p-6 rounded-2xl shadow-2xl mb-6 text-center transform hover:scale-[1.01] transition duration-300">
            <!-- Placeholder para el Logo -->
            <img src="https://placehold.co/200x50/111827/ffffff?text=Compuya" alt="Logo de Compuya, tienda de computadoras" class="mx-auto h-12 mb-4 rounded-lg shadow-md" />
            <!-- TITULO PRINCIPAL -->
            <h1 class="text-2xl md:text-4xl font-extrabold mb-4 tracking-tight">Actualiza tu PC Hoy: Potencia y Velocidad Garantizada</h1>
            <!-- SUBTITULO DE PROMOCION -->
            <p class="text-lg md:text-xl font-bold text-yellow-300 bg-black bg-opacity=30 inline-block px-4 py-2 rounded-full border-2 border-yellow-400">
                춰칔ltimos D칤as! 10% DE DESCUENTO por Contado o Transferencia
            </p>
        </header>

        <!-- CUERPO PRINCIPAL -->
        <main id="main-content">
            <!-- TITULO DEL CAT츼LOGO -->
            <h2 id="dynamic-title" class="text-2xl md:text-4xl font-extrabold text-center mb-10 text-cyan-400">游댠 Los Mejores Combos Calidad-Precio del Mercado 游댠</h2>

            <!-- VISTA DE CAT츼LOGO (Grid en 2 columnas para que se vean cuadrados) -->
            <div id="catalog-view" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-4 md:gap-6"></div>

            <!-- Vista de Detalle (Inicialmente oculta) -->
            <div id="detail-view" class="hidden bg-white p-4 md:p-6 lg:p-10 rounded-xl shadow-2xl border border-gray-100 text-gray-900 detail-view-mobile">
                <button onclick="showCatalogView()" class="flex items-center text-blue-600 hover:text-blue-800 font-semibold mb-4 md:mb-6 transition duration-150 text-base md:text-lg">
                    <!-- Icono de Flecha Atr치s -->
                    <svg class="w-5 h-5 md:w-6 md:h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    Volver a los Combos
                </button>
                <div id="product-detail-content" class="flex flex-col lg:flex-row lg:space-x-10">
                    <!-- Contenido del detalle cargado por JavaScript -->
                </div>
            </div>
        </main>

        <!-- SECCI칍N DE BENEFICIOS -->
        <section id="beneficios-section" class="mb-6">
            <h2 class="text-2xl md:text-3xl font-bold text-center text-cyan-400 mb-4">쯇or qu칠 elegir Compuya?</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Entrega -->
                <div class="benefit-card">
                    <h3 class="text-lg font-bold text-teal-400 mb-2 flex items-center">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>
                        Entrega a Domicilio
                    </h3>
                    <p class="text-gray-200 text-sm">Entregamos a domicilio y dejamos todo instalado <strong class="text-yellow-200">sin costo</strong>.</p>
                </div>
                <!-- Pago Seguro -->
                <div class="benefit-card">
                    <h3 class="text-lg font-bold text-teal-400 mb-2 flex items-center">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Pago Seguro
                    </h3>
                    <p class="text-gray-200 text-sm">춰Pagas solo cuando recibes, revisas y apruebas tu computadora! No pedimos se침a ni adelanto.</p>
                </div>
                <!-- Opciones de Pago -->
                <div class="benefit-card">
                    <h3 class="text-lg font-bold text-teal-400 mb-2 flex items-center">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                        Opciones de Pago
                    </h3>
                    <ul class="text-gray-200 text-sm space-y-1">
                        <li><span class="text-red-400 font-bold">10% OFF:</span> Contado / Transferencia</li>
                        <li><strong class="text-yellow-300">6 Cuotas SIN INTER칄S</strong> con tarjetas</li>
                        <li>Efectivo al recibir</li>
                    </ul>
                </div>
            </div>
            <!-- Garant칤a -->
            <div class="benefit-card mt-4">
                <details class="text-center">
                    <summary class="text-xl font-bold text-teal-400 cursor-pointer hover:text-teal-300 transition duration-200 mb-4">Garant칤a Total (Haz clic para expandir)</summary>
                    <div class="p-3 bg-gray-700 rounded-lg shadow-inner text-center">
                        <button id="openWarrantyModal" class="w-full font-bold text-xl text-emerald-400 hover:text-emerald-300 flex items-center justify-center focus:outline-none transition duration-200 group" aria-label="Abrir modal de garant칤a">
                            <!-- Icono de Check en C칤rculo -->
                            <svg class="w-6 h-6 mr-2 group-hover:rotate-12 transition duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            Garant칤a de 3 Meses
                        </button>
                        <p class="mt-2 text-sm text-gray-300">
                            Todas nuestras computadoras usadas incluyen <strong class="text-yellow-400">3 meses de garant칤a por escrito</strong>. Haz clic para ver detalles.
                        </p>
                    </div>
                </details>
            </div>
        </section>
    </div>

    <!-- Modal de Garant칤a -->
    <div id="warrantyModal" class="modal" onclick="closeWarrantyModal(event)">
        <div class="modal-content relative text-gray-900" onclick="event.stopPropagation()">
            <!-- Bot칩n de Cierre -->
            <span class="close-button absolute top-4 right-6 text-gray-400 hover:text-gray-900" onclick="closeWarrantyModal(event)">&times;</span>
            <h3 class="text-3xl font-bold text-emerald-600 mb-4 border-b pb-2">Garant칤a Escrita (3 Meses)</h3>
            <p class="mb-4 text-lg">Tu tranquilidad es lo m치s importante. Ofrecemos 3 meses completo de garant칤a por escrito en todas nuestras computadoras usadas (CPU) por cualquier falla de hardware no causada por el usuario.</p>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><strong class="font-semibold">Cobertura:</strong> Placa madre, procesador, memoria RAM, disco duro (HDD/SSD).</li>
                <li><strong class="font-semibold">Exclusiones:</strong> Monitores, perif칠ricos (teclado, mouse, etc.), fallas de software, virus o da침os f칤sicos/l칤quidos causados por el cliente.</li>
                <li><strong class="font-semibold">Proceso:</strong> Si tienes un problema, nos contactas y gestionamos el retiro para reparaci칩n o reemplazo.</li>
            </ul>
            <button class="mt-6 w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition duration-200" onclick="closeWarrantyModal()">Entendido</button>
        </div>
    </div>

    <!-- Modal de Compra -->
    <div id="purchaseModal" class="modal" onclick="closePurchaseModal(event)">
        <div class="modal-content relative text-gray-900" onclick="event.stopPropagation()">
            <!-- Bot칩n de Cierre -->
            <span class="close-button absolute top-4 right-6 text-gray-400 hover:text-gray-900" onclick="closePurchaseModal(event)">&times;</span>
            <h3 class="text-3xl font-bold text-blue-600 mb-4 border-b pb-2">Procesar tu Pedido</h3>
            <p class="mb-4 text-lg">Para procesar tu pedido, necesitamos que completes los siguientes datos:</p>
            <form id="purchaseForm" class="space-y-4">
                <div>
                    <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre completo:</label>
                    <input type="text" id="nombre" name="nombre" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="dni" class="block text-sm font-medium text-gray-700">DNI:</label>
                    <input type="text" id="dni" name="dni" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="direccion" class="block text-sm font-medium text-gray-700">Direcci칩n completa (calle, n칰mero, piso, departamento):</label>
                    <input type="text" id="direccion" name="direccion" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="codigo_postal" class="block text-sm font-medium text-gray-700">C칩digo postal:</label>
                    <input type="text" id="codigo_postal" name="codigo_postal" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700">Correo electr칩nico:</label>
                    <input type="email" id="email" name="email" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="telefono" class="block text-sm font-medium text-gray-700">Tel칠fono:</label>
                    <input type="tel" id="telefono" name="telefono" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <button type="button" id="payButton" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition duration-200 flex items-center justify-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M7 13l-1.1 5M7 13l1.1-5"></path>
                    </svg>
                    Consultar por WhatsApp
                </button>
            </form>
        </div>
    </div>

    <script>
        // Referencias a los elementos del DOM principales
        const mainHeader = document.getElementById('main-header');
        const keyInfoSection = document.getElementById('beneficios-section');
        const catalogView = document.getElementById('catalog-view');
        const detailView = document.getElementById('detail-view');
        const productDetailContent = document.getElementById('product-detail-content');
        const dynamicTitle = document.getElementById('dynamic-title');
        const warrantyModal = document.getElementById('warrantyModal');
        const openWarrantyModalBtn = document.getElementById('openWarrantyModal');
        
        // N칰mero de WhatsApp (ACTUALIZADO)
        const WHATSAPP_NUMBER = "5491159980227";

        // Variable global para el producto actual en el modal
        let currentProduct = null;

        // Referencia al modal de compra
        const purchaseModal = document.getElementById('purchaseModal');

        // Costos de las mejoras en valores num칠ricos enteros
        const UPGRADE_COSTS = {
            SSD_128: 25000,
            SSD_256: 38000,
            MONITOR_19: 20000
        };

        // Helper functions para manejar precios (quitar puntos, formatear con puntos)
        function formatPrice(number) {
            if (typeof number !== 'number' || isNaN(number)) return "Precio Inv치lido";
            // Formatea con separador de miles (ej: 360000 -> 360.000)
            return number.toLocaleString('es-AR').replace(/,/g, '.');
        }
        
        // Define una lista de IDs de combos que usan procesadores Core2Duo
        const CORE2DUO_IDS = [1, 2];


        // Array de productos. Se actualiza el software a Win 11 para la mayor칤a.
        const products = [
            // Combo 1 y 2 son Core2Duo (usan Win 10 por default)
            { id: 1, title: "Combo Core2Duo", basePrice: 200000, imageUrl: "https://raw.githubusercontent.com/arielg86/compuya/main/1.png", description: "El combo m치s econ칩mico, perfecto para tareas b치sicas como navegar por internet, usar redes sociales y trabajos escolares o de oficina livianos. Viene listo para usar con todo el software instalado.", specs: [ { name: "Procesador", value: "Intel Core2Duo (Ideal para tareas ligeras)" }, { name: "Memoria RAM", value: "4 GB" }, { name: "Disco", value: "500 GB HDD" }, { name: "Monitor", value: '17" LCD' }, { name: "Software", value: "Win 10, Office completo y Antivirus" }, { name: "Garantia", value: "3 Meses" } ], paymentLink: "https://mpago.la/2D7YX7e" },
            { id: 2, title: "Combo Core2Duo 8GB", basePrice: 240000, imageUrl: "https://raw.githubusercontent.com/arielg86/compuya/main/2.png", description: "Un salto en fluidez. Con 8GB de RAM, este combo es ideal para multitarea, manejar m칰ltiples pesta침as del navegador, estudiar online y usar programas intermedios de manera c칩moda.", specs: [ { name: "Procesador", value: "Intel Core2Duo" }, { name: "Memoria RAM", value: "8 GB (Ideal para navegar y estudiar)" }, { name: "Disco", value: "500 GB HDD" }, { name: "Monitor", value: '17" LCD' }, { name: "Software", value: "Win 10, Office completo y Antivirus" }, { name: "Garantia", value: "3 Meses" } ], paymentLink: "https://mpago.la/2r8q4uS" },
            // Combos 3, 4, 5, 6, 7 son i3/i5
            { id: 3, title: "Combo i3 8GB", basePrice: 270000, imageUrl: "https://raw.githubusercontent.com/arielg86/compuya/main/3.png", description: "Potencia superior con procesador Intel i3. Excelente para quienes necesitan mayor velocidad de procesamiento y un rendimiento fiable para el trabajo y entretenimiento diario. M치ximo valor por tu dinero.", specs: [ { name: "Procesador", value: "Intel i3 (Generaci칩n superior)" }, { name: "Memoria RAM", value: "8 GB" }, { name: "Disco", value: "500 GB HDD" }, { name: "Monitor", value: '17" LCD' }, { name: "Software", value: "Win 10, Office completo y Antivirus" }, { name: "Garantia", value: "3 Meses" } ], paymentLink: "https://mpago.la/1sf3Fqs" },
            { id: 4, title: "Combo i3 16GB", basePrice: 300000, imageUrl: "https://raw.githubusercontent.com/arielg86/compuya/main/4.png", description: "La mejor opci칩n para el usuario avanzado. Los 16GB de RAM eliminan los cuellos de botella al trabajar con muchas aplicaciones abiertas, edici칩n ligera o m치quinas virtuales. M치xima fluidez garantizada.", specs: [ { name: "Procesador", value: "Intel i3" }, { name: "Memoria RAM", value: "16 GB (춰M치xima Fluidez!)" }, { name: "Disco", value: "500 GB HDD" }, { name: "Monitor", value: '17" LCD' }, { name: "Software", value: "Win 11, Office completo y Antivirus" }, { name: "Garantia", value: "3 Meses" } ], paymentLink: "https://mpago.la/1zKshDL" },
            { id: 5, title: "Combo i5 8GB", basePrice: 320000, imageUrl: "https://raw.githubusercontent.com/arielg86/compuya/main/5.png", description: "Potencia de Intel i5 para profesionales y estudiantes. Maneja software m치s demandante, bases de datos y tareas de dise침o con facilidad. Incluye la 칰ltima versi칩n de Windows.", specs: [ { name: "Procesador", value: "Intel i5 (Potencia y Velocidad)" }, { name: "Memoria RAM", value: "8 GB" }, { name: "Disco", value: "500 GB HDD" }, { name: "Monitor", value: '17" LCD' }, { name: "Software", value: "Win 11, Office completo y Antivirus" }, { name: "Garantia", value: "3 Meses" } ], paymentLink: "https://mpago.la/1sf3Fqs" },
            { id: 6, title: "Combo 030 (16GB/1TB)", basePrice: 360000, imageUrl: "https://raw.githubusercontent.com/arielg86/compuya/main/6.png", description: "El combo de m치s alto rendimiento, dise침ado para quienes no aceptan compromisos. Con 16GB de RAM y un procesador i5, es la m치quina definitiva para multitarea intensa, desarrollo o edici칩n multimedia. Gran almacenamiento.", specs: [ { name: "Procesador", value: "Intel i5" }, { name: "Memoria RAM", value: "16 GB (El m치s r치pido)" }, { name: "Disco", value: "1 TB HDD (춰El doble de almacenamiento!)" }, { name: "Monitor", value: '17" LCD' }, { name: "Accesorios", value: "Teclado y mouse" }, { name: "Software", value: "Windows 11, Paquete Office completo" }, { name: "Garantia", value: "3 Meses" } ], paymentLink: "https://mpago.la/1raZeQF" },
            {
                id: 7,
                title: "Combo i5 SSD 16GB (19\")",
                basePrice: 440000,
                imageUrl: "https://raw.githubusercontent.com/arielg86/compuya/main/7.png",
                description: "Configuraci칩n Premium enfocada en la velocidad extrema. Arranca en segundos y carga aplicaciones instant치neamente gracias a su SSD de 256GB ultra r치pido. Ideal para profesionales y usuarios que exigen el mejor rendimiento en un monitor de 19 pulgadas.",
                specs: [
                    { name: "Procesador", value: "Intel i5" },
                    { name: "Memoria RAM", value: "16 GB (M치xima multitarea)" },
                    { name: "Disco", value: "256 GB SSD (Inicio y carga ultra r치pida)" },
                    { name: "Monitor", value: '19" (M치s grande)' },
                    { name: "Software", value: "Win 11, Office completo y Antivirus" },
                    { name: "Garantia", value: "3 Meses" }
                ],
                paymentLink: "https://mpago.la/2UQbZKW"
            }
        ];
        
        /**
         * Abre el modal de garant칤a.
         */
        function openWarrantyModal(event) {
            if (event && event.stopPropagation) {
                event.stopPropagation();
            }
            warrantyModal.classList.add('show');
        }

        /**
         * Cierra el modal de garant칤a.
         */
        function closeWarrantyModal(event) {
            // Cierra si se hace clic en el fondo oscuro
            if (event && event.target && event.target === warrantyModal) {
                warrantyModal.classList.remove('show');
                return;
            }
            // Cierra si se hace clic en el bot칩n de cierre (x) o "Entendido"
            if (event && (event.target.className.includes('close-button') || event.target.tagName === 'BUTTON' && event.target.textContent === 'Entendido')) {
                 warrantyModal.classList.remove('show');
                 return;
            }
        }

        /**
         * Abre WhatsApp con un mensaje predefinido para el producto.
         * @param {string} message - Mensaje a enviar.
         */
        function openWhatsApp(message) {
            // Usa el n칰mero de WhatsApp actualizado
            const phoneNumber = WHATSAPP_NUMBER; 
            const encodedMessage = encodeURIComponent(message);
            window.open(`https://wa.me/${phoneNumber}?text=${encodedMessage}`, '_blank');
        }

        /**
         * Abre el modal de compra.
         */
        function openPurchaseModal(product) {
            currentProduct = product;
            purchaseModal.classList.add('show');
            // Configurar el bot칩n de WhatsApp con los datos del formulario
            document.getElementById('payButton').onclick = () => {
                const nombre = document.getElementById('nombre').value;
                const dni = document.getElementById('dni').value;
                const direccion = document.getElementById('direccion').value;
                const codigo_postal = document.getElementById('codigo_postal').value;
                const email = document.getElementById('email').value;
                const telefono = document.getElementById('telefono').value;
                const message = `Hola, quiero procesar mi pedido para el ${currentProduct.title}. Datos: Nombre: ${nombre}, DNI: ${dni}, Direcci칩n: ${direccion}, C칩digo Postal: ${codigo_postal}, Email: ${email}, Tel칠fono: ${telefono}.`;
                openWhatsApp(message);
            };
        }

        /**
         * Abre el modal de checkout (alias para openPurchaseModal).
         */
        function openCheckoutModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            openPurchaseModal(product);
        }

        /**
         * Cierra el modal de compra.
         */
        function closePurchaseModal(event) {
            // Cierra si se hace clic en el fondo oscuro
            if (event && event.target && event.target === purchaseModal) {
                purchaseModal.classList.remove('show');
                return;
            }
            // Cierra si se hace clic en el bot칩n de cierre (x) o "Entendido"
            if (event && (event.target.className.includes('close-button') || event.target.tagName === 'BUTTON' && event.target.textContent === 'Entendido')) {
                 purchaseModal.classList.remove('show');
                 return;
            }
        }

        // Asigna el evento al bot칩n de garant칤a
        openWarrantyModalBtn.onclick = openWarrantyModal;
        warrantyModal.onclick = closeWarrantyModal;
        purchaseModal.onclick = closePurchaseModal;


        /**
         * Actualiza la lista de especificaciones t칠cnicas en el detalle del producto,
         * incluyendo la actualizaci칩n de Windows si aplica.
         * @param {Object} product - Objeto del producto base.
         * @param {string} diskSpec - Especificaci칩n actual del disco.
         * @param {string} monitorSpec - Especificaci칩n actual del monitor.
         * @param {string} softwareSpec - Especificaci칩n actual del software.
         */
        function updateSpecsTable(product, diskSpec, monitorSpec, softwareSpec) {
            const specsListElement = document.getElementById('product-detail-specs');
            if (!specsListElement) return;

            // Creamos una copia de las especificaciones base para modificarlas
            const updatedSpecs = [...product.specs];

            // Helper para encontrar y actualizar un spec
            const updateSpec = (name, value) => {
                const index = updatedSpecs.findIndex(s => s.name === name);
                if (index !== -1) {
                    updatedSpecs[index].value = value;
                } else {
                    updatedSpecs.push({ name: name, value: value });
                }
            };
            
            // 1. Actualizar Disco
            updateSpec("Disco", diskSpec);

            // 2. Actualizar Monitor
            updateSpec("Monitor", monitorSpec);

            // 3. Actualizar Software
            updateSpec("Software", softwareSpec);


            // 4. Generar el nuevo HTML de la lista
            specsListElement.innerHTML = updatedSpecs.map(spec => {
                // Determina si esta especificaci칩n fue personalizada o es destacable
                const isDiskCustom = spec.name === "Disco" && (spec.value.includes("SSD"));
                const isMonitorCustom = spec.name === "Monitor" && spec.value.includes('19"');
                const isSoftwareCustom = spec.name === "Software" && spec.value.includes("Win 11");

                const highlightClass = (isDiskCustom || isMonitorCustom || isSoftwareCustom)
                    ? 'bg-yellow-100 border-yellow-300' : 'bg-gray-50 border-gray-100';

                return `
                    <li class="flex flex-col sm:flex-row justify-between p-3 rounded-lg shadow-sm border ${highlightClass} text-sm md:text-base">
                        <span class="font-medium text-gray-500">${spec.name}:</span>
                        <span class="font-bold text-gray-800">${spec.value}</span>
                    </li>
                `;
            }).join('');
        }

        /**
         * Calcula el precio final basado en las selecciones de mejora del usuario.
         * Actualiza los precios, el bot칩n de WhatsApp y las especificaciones.
         * @param {Object} product - Objeto del producto base.
         */
        function calculateFinalPrice(product) {
            const detailDiv = document.getElementById('detail-view');
            if (!detailDiv) return;

            // Precio base de partida (Oferta con 10% OFF para Contado, y Base para Cuotas)
            let currentBasePriceOffer = product.basePrice * 0.9;
            let currentBasePriceCuotas = product.basePrice;
            
            // Buscar valores base de specs
            let diskSpec = product.specs.find(s => s.name === "Disco")?.value || "500 GB HDD";
            let monitorSpec = product.specs.find(s => s.name === "Monitor")?.value || '17" LCD';
            // Obtener el Software base (ej. "Win 10, Office completo y Antivirus")
            let softwareSpec = product.specs.find(s => s.name === "Software")?.value || "Software Base"; 

            let upgradesDescription = [];
            let diskUpgradeCost = 0;
            let isSsdSelected = false; // Bandera para la l칩gica de Win 11

            // 1. Obtener Mejora de Disco
            const diskSelected = detailDiv.querySelector('input[name="disk_upgrade"]:checked');
            if (diskSelected && diskSelected.value !== 'none') {
                isSsdSelected = true;
                if (diskSelected.value === 'ssd_128') {
                    diskUpgradeCost = UPGRADE_COSTS.SSD_128;
                    diskSpec = '128 GB SSD (춰Arranca en Segundos!)';
                    upgradesDescription.push("Disco: SSD 128GB");
                } else if (diskSelected.value === 'ssd_256') {
                    diskUpgradeCost = UPGRADE_COSTS.SSD_256;
                    diskSpec = '256 GB SSD (M치xima Velocidad)';
                    upgradesDescription.push("Disco: SSD 256GB");
                }
            }

            // 2. L칩gica de Actualizaci칩n de Software (Windows 11)
            // SI el combo NO es Core2Duo Y se seleccion칩 SSD
            const isCore2Duo = CORE2DUO_IDS.includes(product.id);
            if (!isCore2Duo && isSsdSelected) {
                // Actualiza la especificaci칩n de software a Win 11 si es i3/i5 y lleva SSD
                softwareSpec = "Win 11 (Actualizado por SSD), Office completo y Antivirus";
            } else {
                // Si no aplica, se mantiene el software original del producto
                softwareSpec = product.specs.find(s => s.name === "Software")?.value || "Software Base";
            }


            // 3. Obtener Mejora de Monitor
            const monitorCheckbox = detailDiv.querySelector('#monitor_upgrade');
            let monitorUpgradeCost = 0;
            if (monitorCheckbox && monitorCheckbox.checked) {
                monitorUpgradeCost = UPGRADE_COSTS.MONITOR_19;
                monitorSpec = '19" LCD (Mejora de Tama침o)';
                upgradesDescription.push("Monitor: 19\"");
            } else {
                // Si no se selecciona, se mantiene la spec original del monitor
                upgradesDescription.push(monitorSpec);
            }
            
            // 4. Calcular Precios Finales
            const finalPriceOffer = currentBasePriceOffer + diskUpgradeCost + monitorUpgradeCost;
            const finalPriceCuotas = currentBasePriceCuotas + diskUpgradeCost + monitorUpgradeCost;
            // Redondeamos para evitar decimales en la cuota
            const finalCuotaValue = Math.round(finalPriceCuotas / 6); 

            // 5. Actualizar UI de Precios
            // Elementos de la cabecera (arriba)
            const priceOfferElement = detailDiv.querySelector('#final_offer_price');
            const priceCuotasElement = detailDiv.querySelector('#final_cuotas_price');
            const cuotasValueElement = detailDiv.querySelector('#final_cuota_value');
            
            // Elementos para la vista localizada (debajo de las opciones)
            const localPriceOfferElement = detailDiv.querySelector('#local_final_offer_price');
            const localCuotasPriceElement = detailDiv.querySelector('#local_final_cuotas_price');
            const localCuotasValueElement = detailDiv.querySelector('#local_final_cuota_value');

            const waButton = detailDiv.querySelector('.wa-button-detail');

            // Actualizar precio principal (arriba)
            if (priceOfferElement) priceOfferElement.textContent = formatPrice(finalPriceOffer);
            if (priceCuotasElement) priceCuotasElement.textContent = formatPrice(finalPriceCuotas);
            if (cuotasValueElement) cuotasValueElement.textContent = formatPrice(finalCuotaValue);
            
            // Actualizar precio localizado (debajo de la personalizaci칩n)
            if (localPriceOfferElement) localPriceOfferElement.textContent = formatPrice(finalPriceOffer);
            if (localCuotasPriceElement) localCuotasPriceElement.textContent = formatPrice(finalPriceCuotas);
            if (localCuotasValueElement) localCuotasValueElement.textContent = formatPrice(finalCuotaValue);

            // 6. ACTUALIZAR TABLA DE ESPECIFICACIONES T칄CNICAS
            updateSpecsTable(product, diskSpec, monitorSpec, softwareSpec);

            // 7. Actualizar Mensaje de WhatsApp
            const upgradesText = upgradesDescription.length > 0 ? ` con la configuraci칩n personalizada: ${upgradesDescription.join(', ')}` : "";
            const waMessage = `Hola, quiero COMPRAR el combo ${product.title}${upgradesText}. El precio final al contado/transferencia es $${formatPrice(finalPriceOffer)}.`;
            if (waButton) waButton.setAttribute('onclick', `openWhatsApp('${waMessage}')`);

            // Actualizar el bot칩n de WhatsApp personalizado en la secci칩n de personalizaci칩n
            const customWaButton = detailDiv.querySelector('#custom-wa-button');
            if (customWaButton) customWaButton.setAttribute('onclick', `openWhatsApp('${waMessage}')`);
        }


        /**
         * Crea y devuelve la tarjeta HTML para un producto, estilo MercadoLibre.
         */
        function renderProductCard(product) {
            const offerPrice = product.basePrice * 0.9;
            const cuotaValue = Math.round(product.basePrice / 6);

            const card = document.createElement('div');
            card.className = 'product-card bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow duration-200 cursor-pointer';
            card.setAttribute('onclick', `showProductDetail(${product.id})`);

            const imagePlaceholder = `https://placehold.co/300x300/f8f9fa/6c757d?text=${product.title.replace(/ /g, '+')}`;

            card.innerHTML = `
                <!-- Imagen del producto -->
                <div class="relative mb-3">
                    <img
                        src="${product.imageUrl}"
                        alt="${product.title}"
                        class="w-full h-64 object-contain rounded"
                        onerror="this.onerror=null;this.src='${imagePlaceholder}';"
                    />
                    <div class="absolute top-2 left-2 bg-green-600 text-white text-xs px-2 py-1 rounded font-bold">
                        OFERTA
                    </div>
                </div>

                <!-- Informaci칩n del producto -->
                <div class="flex-1">
                    <h3 class="text-sm text-gray-900 mb-2 line-clamp-2 leading-tight font-medium">${product.title}</h3>

                    <!-- Precio -->
                    <div class="mb-2">
                        <div class="flex items-baseline gap-2 mb-1">
                            <span class="text-xl font-bold text-gray-900">$${formatPrice(offerPrice)}</span>
                            <span class="text-sm text-gray-500 line-through">$${formatPrice(product.basePrice)}</span>
                        </div>
                        <div class="text-xs text-green-600 font-semibold">10% OFF</div>
                    </div>

                    <!-- Cuotas -->
                    <div class="text-xs text-gray-600 mb-2">
                        en 6x $${formatPrice(cuotaValue)} sin inter칠s
                    </div>

                    <!-- Env칤o -->
                    <div class="text-xs text-green-700 font-medium mb-2 flex items-center">
                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Env칤o gratis a todo el pa칤s
                    </div>

                    <!-- Vendedor -->
                    <div class="text-xs text-gray-500 mb-3">
                        por <span class="font-medium text-blue-600">Compuya</span>
                    </div>

                    <!-- Bot칩n de compra -->
                    <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors duration-200 text-sm" onclick="event.stopPropagation(); openWhatsApp('춰Hola! Quiero comprar el ${product.title} por $${formatPrice(offerPrice)}. 쯄e ayud치s con la compra?');">
                        Consultar por WhatsApp
                    </button>
                </div>
            `;
            return card;
        }

        /**
         * Muestra la vista de cat치logo principal con todos los productos.
         */
        function renderCatalogView() {
            // Muestra los elementos ocultos al volver al cat치logo
            mainHeader.classList.remove('hidden');
            keyInfoSection.classList.remove('hidden');
            
            catalogView.innerHTML = '';
            products.forEach(product => {
                catalogView.appendChild(renderProductCard(product));
            });
            dynamicTitle.textContent = "游댠 Los Mejores Combos Calidad-Precio del Mercado 游댠";
        }

        /**
         * Funci칩n para cambiar de la vista de detalle a la vista de cat치logo.
         */
        function showCatalogView() {
            detailView.classList.add('hidden');
            catalogView.classList.remove('hidden');
            dynamicTitle.classList.remove('hidden');
            renderCatalogView();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        /**
         * Muestra la vista de detalle para un producto espec칤fico.
         */
        function showProductDetail(productId) {
            console.log('showProductDetail called with', productId);
            const product = products.find(p => p.id === productId);

            if (!product) {
                console.error("Producto no encontrado:", productId);
                return;
            }

            // OCULTA CABECERA Y SECCI칍N DE INFORMACI칍N CLAVE (SEG칔N REQUERIMIENTO)
            mainHeader.classList.add('hidden');
            keyInfoSection.classList.add('hidden');

            catalogView.classList.add('hidden');
            dynamicTitle.classList.add('hidden');
            detailView.classList.remove('hidden');

            const detailImagePlaceholder = `https://placehold.co/800x400/e0f2f1/042f2e?text=${product.title.replace(/ /g, '+')}`;

            // Solo los combos 1 al 5 son personalizables porque los 6 y 7 ya vienen optimizados.
            const isCustomizable = productId <= 5;

            // Obtener las especificaciones iniciales para el primer render
            const initialDiskSpec = product.specs.find(s => s.name === "Disco")?.value || "500 GB HDD";
            const initialMonitorSpec = product.specs.find(s => s.name === "Monitor")?.value || '17" LCD';
            const initialSoftwareSpec = product.specs.find(s => s.name === "Software")?.value || "Software Base";


            let customizationHTML = '';
            if (isCustomizable) {
                // Obtenemos el ID del producto para pasarlo a la funci칩n de c치lculo
                const calculateFnCall = `calculateFinalPrice(products.find(p => p.id === ${productId}))`;

                customizationHTML = `
                    <div class="mt-8 pt-6 border-t border-blue-200 bg-blue-50 p-4 rounded-xl shadow-inner customization-section">
                        <h4 class="text-2xl font-bold text-blue-800 mb-4 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37h.001z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            Personaliza tu Combo
                        </h4>

                        <!-- 1. DISCO DURO MEJORA (Radio Buttons) -->
                        <div class="mb-4 p-3 bg-white rounded-lg shadow-md border border-gray-100">
                            <p class="font-bold text-gray-800 mb-2">Cambio de Disco por Mayor Velocidad (Est치ndar: ${initialDiskSpec}):</p>
                            <div class="flex flex-col space-y-2 text-sm">
                                <label class="inline-flex items-center">
                                    <input type="radio" name="disk_upgrade" value="none" checked onchange="${calculateFnCall}" class="form-radio text-green-600 h-5 w-5">
                                    <span class="ml-2 font-semibold">Mantener Disco Est치ndar (${initialDiskSpec})</span>
                                </label>
                                <label class="inline-flex items-center text-blue-700">
                                    <input type="radio" name="disk_upgrade" value="ssd_128" onchange="${calculateFnCall}" class="form-radio text-blue-600 h-5 w-5">
                                    <span class="ml-2">Cambiar por <strong class="font-extrabold">128 GB SSD</strong> (+${formatPrice(UPGRADE_COSTS.SSD_128)}) - *춰PC Arranca en Segundos!*</span>
                                </label>
                                <label class="inline-flex items-center text-blue-700">
                                    <input type="radio" name="disk_upgrade" value="ssd_256" onchange="${calculateFnCall}" class="form-radio text-blue-600 h-5 w-5">
                                    <span class="ml-2">Cambiar por <strong class="font-extrabold">256 GB SSD</strong> (+${formatPrice(UPGRADE_COSTS.SSD_256)}) - *M치xima Capacidad y Velocidad*</span>
                                </label>
                                <p class="text-xs text-gray-500 mt-1">
                                    <strong class="text-red-500">IMPORTANTE:</strong> Si eliges SSD en un combo i3/i5, se actualiza a **Windows 11**.
                                </p>
                            </div>
                        </div>

                        <!-- 2. MONITOR MEJORA (Checkbox) -->
                        <div class="p-3 bg-white rounded-lg shadow-md border border-gray-100">
                            <p class="font-bold text-gray-800 mb-2">Mejora de Tama침o de Monitor (Est치ndar ${initialMonitorSpec}):</p>
                            <label class="inline-flex items-center text-orange-700">
                                <input type="checkbox" id="monitor_upgrade" onchange="${calculateFnCall}" class="form-checkbox text-orange-600 h-5 w-5 rounded">
                                <span class="ml-2">Cambiar por Monitor m치s grande <strong class="font-extrabold">19" LCD</strong> (+${formatPrice(UPGRADE_COSTS.MONITOR_19)})</span>
                            </label>
                        </div>

                        <!-- SECCI칍N DE PRECIO LOCALIZADO PARA RESPONSIVE -->
                        <div id="local_final_price_display" class="mt-5 p-3 rounded-xl border-2 border-red-500 bg-red-50 text-center price-display">
                            <p class="text-xl font-bold text-gray-700">Precio Final Contado/Transferencia (10% OFF):</p>
                            <p class="text-4xl font-extrabold text-red-700">$<span id="local_final_offer_price">${formatPrice(product.basePrice * 0.9)}</span></p>
                            <p class="text-sm font-semibold text-blue-800 mt-1">
                                Precio 6 Cuotas: $<span id="local_final_cuotas_price">${formatPrice(product.basePrice)}</span> | Cuota: $<span id="local_final_cuota_value">${formatPrice(Math.round(product.basePrice / 6))}</span>
                            </p>
                        </div>

                        <!-- BOT칍N DE WHATSAPP CON PERSONALIZACI칍N -->
                        <button id="custom-wa-button" class="w-full bg-blue-600 hover:bg-blue-700 text-white text-lg font-bold py-4 px-6 rounded-lg shadow-lg transition duration-200 flex items-center justify-center mt-4">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M7 13l-1.1 5M7 13l1.1-5"></path>
                            </svg>
                            Consultar por WhatsApp con Personalizaci칩n
                        </button>
                    </div>
                `;
            }

            // Contenido de la vista de detalle estilo MercadoLibre
            // ESTE BLOQUE FUE MOVIDO FUERA DEL IF (isCustomizable)
            productDetailContent.innerHTML = `
                <!-- Galer칤a de im치genes (izquierda) -->
                <div class="md:w-2/5 mb-6 md:mb-0">
                    <div class="sticky top-4">
                        <!-- Imagen principal -->
                        <div class="relative mb-4">
                            <img
                                src="${product.imageUrl.replace('400x200', '800x400')}"
                                alt="${product.title}"
                                class="w-full h-auto rounded-lg shadow-md border border-gray-200"
                                onerror="this.onerror=null;this.src='${detailImagePlaceholder}';"
                            />
                            <div class="absolute top-2 left-2 bg-green-600 text-white text-xs px-2 py-1 rounded font-bold">
                                OFERTA
                            </div>
                        </div>

                        <!-- Miniaturas (placeholder) -->
                        <div class="flex space-x-2 overflow-x-auto">
                            <img src="${product.imageUrl}" alt="Vista 1" class="w-16 h-16 object-cover rounded border-2 border-blue-500 cursor-pointer">
                            <div class="w-16 h-16 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-500">+3</div>
                        </div>

                        <p class="text-xs text-gray-500 mt-2 text-center">La imagen es ilustrativa. Los componentes pueden variar ligeramente en marca seg칰n stock.</p>
                    </div>
                </div>

                <!-- Informaci칩n del producto (derecha) -->
                <div class="md:w-3/5 md:pl-8">
                    <!-- Estado del producto -->
                    <div class="flex items-center mb-2">
                        <span class="inline-block w-2 h-2 bg-green-500 rounded-full mr-2"></span>
                        <span class="text-sm text-green-700 font-medium">Nuevo</span>
                        <span class="mx-2 text-gray-300">|</span>
                        <span class="text-sm text-gray-600">+1000 vendidos</span>
                    </div>

                    <!-- T칤tulo del producto -->
                    <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4 leading-tight">${product.title}</h1>

                    <!-- Calificaci칩n y rese침as -->
                    <div class="flex items-center mb-4">
                        <div class="flex items-center mr-4">
                            <div class="flex text-yellow-400">
                                驕驕驕驕驕
                            </div>
                            <span class="text-sm text-gray-600 ml-1">(4.8)</span>
                        </div>
                        <span class="text-sm text-blue-600 hover:text-blue-800 cursor-pointer">23 opiniones</span>
                    </div>

                    <!-- Precio principal -->
                    <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                        <div class="flex items-baseline mb-2">
                            <span class="text-4xl font-bold text-gray-900 mr-3">$<span id="final_offer_price">${formatPrice(product.basePrice * 0.9)}</span></span>
                            <span class="text-lg text-gray-500 line-through">$<span id="final_cuotas_price">${formatPrice(product.basePrice)}</span></span>
                            <span class="ml-3 bg-green-100 text-green-800 text-sm px-2 py-1 rounded font-semibold">10% OFF</span>
                        </div>

                        <!-- Cuotas -->
                        <div class="text-sm text-gray-700 mb-2">
                            en <strong>6 cuotas de $<span id="final_cuota_value">${formatPrice(Math.round(product.basePrice / 6))}</span></strong> sin inter칠s
                        </div>

                        <!-- Informaci칩n de env칤o -->
                        <div class="flex items-center text-sm text-green-700 font-medium mb-2">
                            <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                            </svg>
                            <span>Env칤o gratis a todo el pa칤s</span>
                        </div>

                        <!-- Stock -->
                        <div class="text-sm text-gray-600">
                            Stock disponible
                        </div>
                    </div>

                    <!-- Cantidad -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Cantidad:</label>
                        <div class="flex items-center">
                            <button class="border border-gray-300 px-3 py-1 rounded-l hover:bg-gray-50">-</button>
                            <input type="number" value="1" min="1" class="border-t border-b border-gray-300 w-16 text-center py-1">
                            <button class="border border-gray-300 px-3 py-1 rounded-r hover:bg-gray-50">+</button>
                            <span class="ml-3 text-sm text-gray-600">disponibles</span>
                        </div>
                    </div>

                    <!-- Botones de compra -->
                    <div class="space-y-3 mb-8">
                        <button onclick="openCheckoutModal(${product.id})" class="w-full bg-yellow-500 hover:bg-yellow-600 text-black text-lg font-bold py-4 px-6 rounded-lg shadow-lg transition duration-200 flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                            </svg>
                            Comprar Ahora
                        </button>
                        <button class="wa-button-detail w-full bg-blue-600 hover:bg-blue-700 text-white text-lg font-bold py-4 px-6 rounded-lg shadow-lg transition duration-200 flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M7 13l-1.1 5M7 13l1.1-5"></path>
                            </svg>
                            Consultar por WhatsApp
                        </button>
                    </div>

                    <!-- Informaci칩n del vendedor -->
                    <div class="border-t pt-6 mb-6">
                        <div class="flex items-center mb-3">
                            <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold mr-3">
                                C
                            </div>
                            <div>
                                <div class="font-medium text-gray-900">Compuya</div>
                                <div class="text-sm text-gray-600">98.7% calificaci칩n positiva</div>
                            </div>
                        </div>
                        <div class="text-sm text-gray-600 space-y-1">
                            <div>九 Entrega a domicilio incluida</div>
                            <div>九 Garant칤a de 3 meses</div>
                            <div>九 Pago contra entrega disponible</div>
                        </div>
                    </div>

                    ${customizationHTML}

                    <!-- Descripci칩n -->
                    <div class="border-t pt-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-3">Descripci칩n</h3>
                        <p class="text-gray-700 leading-relaxed mb-4">${product.description}</p>

                        <!-- Caracter칤sticas principales -->
                        <div class="bg-gray-50 rounded-lg p-4 mb-6">
                            <h4 class="font-medium text-gray-900 mb-2">Caracter칤sticas principales:</h4>
                            <ul class="text-sm text-gray-700 space-y-1">
                                <li> Procesador potente para tareas diarias</li>
                                <li> Memoria RAM suficiente para multitarea</li>
                                <li> Almacenamiento adecuado para tus archivos</li>
                                <li> Monitor de calidad para una buena experiencia visual</li>
                                <li> Software completo incluido</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Especificaciones t칠cnicas -->
                    <div class="border-t pt-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-3">Especificaciones t칠cnicas</h3>
                        <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                            <ul id="product-detail-specs" class="divide-y divide-gray-200">
                                <!-- Se poblar치 con JS llamando a updateSpecsTable -->
                            </ul>
                        </div>
                    </div>

                    <!-- Preguntas y respuestas -->
                    <div class="border-t pt-6 mt-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-3">Preguntas y respuestas</h3>
                        <div class="space-y-3">
                            <div class="bg-gray-50 rounded-lg p-4">
                                <div class="font-medium text-gray-900 mb-1">쯀ncluye instalaci칩n?</div>
                                <div class="text-gray-700 text-sm">S칤, incluimos instalaci칩n completa sin costo adicional.</div>
                            </div>
                            <div class="bg-gray-50 rounded-lg p-4">
                                <div class="font-medium text-gray-900 mb-1">쯈u칠 garant칤a tiene?</div>
                                <div class="text-gray-700 text-sm">Todos nuestros combos tienen 3 meses de garant칤a por escrito.</div>
                            </div>
                        </div>
                        <button class="mt-3 text-blue-600 hover:text-blue-800 font-medium" onclick="openWhatsApp('Quiero consultar sobre el combo ${product.title}')">
                            Ver todas las preguntas
                        </button>
                    </div>
                </div>
            `;
            
            console.log('Detail content set for product', productId);
            // Inicializa el c치lculo de precio para configurar el bot칩n de WhatsApp y las specs iniciales
            calculateFinalPrice(product);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Inicializa la vista del cat치logo al cargar la p치gina
        window.onload = renderCatalogView;

        // Hace las funciones accesibles globalmente
        window.showProductDetail = showProductDetail;
        window.showCatalogView = showCatalogView;
        window.openWhatsApp = openWhatsApp;
        window.closeWarrantyModal = closeWarrantyModal;
        window.openWarrantyModal = openWarrantyModal;
        window.calculateFinalPrice = calculateFinalPrice; // Se hace global para el onchange en el HTML
    </script>
</body>
</html>
